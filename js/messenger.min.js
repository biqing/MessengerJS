!function(a){function b(a){return a&&a.window===a}function c(a,b){var c=this,d="";if(arguments.length<2?d="target error - target and name are both requied":"string"!=typeof b&&(d="target error - target name must be string type"),d)throw new Error(d);c.targets=[],c.name=b,c.add(a)}function d(a){var b=function(b){"object"==typeof b&&b.data&&(b=b.data),b=b.slice(e.length);for(var c,d=0;c=a.lH[d];d+=1)c(b)};f?"attachEvent"in document?window.attachEvent("onmessage",b):window.addEventListener("message",b,!1):window.navigator[e+a.name]=b}var e="[PROJECT_NAME]",f="postMessage"in window;if(f)var g=function(a){for(var b,c=this.targets,d=0;b=c[d];d+=1)b.postMessage(e+a,"*")};else g=function(a){for(var b,c=this.targets,d=0;b=c[d];d+=1){var f=b.navigator[e+this.name];if("function"!=typeof f)throw new Error("target callback function is not defined");f(e+a,window)}};return c.prototype={send:g,add:function(a){var c,d=this.targets,e=0;if(!b(a)){if(console.log(a.contentWindow),!a||!b(a.contentWindow))throw new Error("target error - target itself must be window object");a=a.contentWindow}for(;c=d[e];e+=1)if(a===c)return;d.push(a)}},a.Messenger=function(a){var b=this;b.targets=[],b.targets._={},b.name=a,b.lH=[],d(b)},Messenger.prototype={add:function(a,b){var d,e=this,f=e.targets;return(d=f._[b])||f.push(d=f._[b]=new c(a,b)),d.add(a),d},addParent:function(c,d){1===arguments.length&&(d=c,c=a),c=b(c.opener)?c.opener:c.parent,this.add(c,d)},listen:function(a){this.lH.push(a)},send:function(a){for(var b,c=this.targets,d=0;b=c[d];d+=1)b.send(a)}},Messenger}(window);