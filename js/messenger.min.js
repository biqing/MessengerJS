window.Messenger=function(){function a(a){return a.window===a}function b(b,c){var d="";if(arguments.length<2?d="target error - target and name are both requied":a(b)?"string"!=typeof c&&(d="target error - target name must be string type"):d="target error - target itself must be window object",d)throw new Error(d);this.targets=b instanceof Array?b:[b],this.name=c}function c(a){var b=this;b.targets=[],b.targets._={},b.name=a,b.lH=[],d(b)}function d(a){var b=function(b){"object"==typeof b&&b.data&&(b=b.data),b=b.slice(e.length);for(var c,d=0;c=a.lH[d];d+=1)c(b)};f?"attachEvent"in document?window.attachEvent("onmessage",b):window.addEventListener("message",b,!1):window.navigator[e+a.name]=b}var e="[PROJECT_NAME]",f="postMessage"in window;if(f)var g=function(a){for(var b,c=this.targets,d=0;b=c[d];d+=1)b.postMessage(e+a,"*")};else g=function(a){for(var b,c=this.targets,d=0;b=c[d];d+=1){var f=b.navigator[e+this.name];if("function"!=typeof f)throw new Error("target callback function is not defined");f(e+a,window)}};return b.prototype={send:g,add:function(b){var c,d=this.targets,e=0;if(!a(b))throw new Error("target error - target itself must be window object");for(;c=d[e];e+=1)if(b===c)return;d.push(b)}},c.prototype={add:function(a,c){var d,e=this,f=e.targets;return(d=f._[c])||f.push(d=f._[c]=new b(a,c)),d.add(a),d},listen:function(a){this.lH.push(a)},send:function(a){for(var b,c=this.targets,d=0;b=c[d];d+=1)b.send(a)}},c}();